!function(){"use strict";for(var e={},t=[].slice.call(document.getElementsByClassName("section__sites")),n=0;n<t.length;n++)e[t[n].id]=t[n].offsetTop;window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop,n=0;for(n in e)e[n]<=t+40&&(document.querySelector(".header--inverse").classList.remove("header--inverse"),document.querySelector("a[href*="+n+"]").classList.add("header--inverse"))}}();var isValidElement=function(e){return e.name&&e.value},isValidValue=function(e){return!["checkbox","radio"].includes(e.type)||e.checked},formToJson=function(e){return[].reduce.call(e,function(e,t){return isValidElement(t)&&isValidValue(t)&&(e[t.name]=t.value),e},{})},request=function(e,t,n){return new Promise(function(i,s){var o=new XMLHttpRequest;return o.open(e,t),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.onload=function(){200==o.status?i(o.responseText):s(new Error(o.statusText))},o.onerror=function(){s(new Error("unknown error"))},o.send(JSON.stringify(n))})};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("menuToggle"),t=document.getElementById("headerMenu"),n=document.getElementById("menuOverlay"),i=function(){"hidden"==window.getComputedStyle(t,null).getPropertyValue("visibility")?(t.style.visibility="visible",n.style.visibility="visible",e.style.visibility="hidden",t.style.zIndex="150",n.style.zIndex="105"):(t.style.visibility="hidden",n.style.visibility="hidden",e.style.visibility="unset",t.style.zIndex="-1",n.style.zIndex="-1")};e.addEventListener("click",function(e){i()}),n.addEventListener("click",function(e){i()});for(var s=[].slice.call(document.getElementsByClassName("header__menu__item")),o=0;o<s.length;o++)s[o].addEventListener("click",function(e){i()});for(var l=[].slice.call(document.getElementsByClassName("contact__input")),o=0;o<l.length;o++)l[o].addEventListener("blur",function(){this.value?this.classList.add("contact__input--filled"):this.classList.contains("contact__input--filled")&&this.classList.remove("contact__input--filled")});var r=document.getElementById("emailStudioRiehl"),a=document.getElementById("replaceOnSubmit");r.addEventListener("submit",function(e){submitForm(e,r,a)})});var submitForm=function(e,t,n){e.preventDefault();var i,s=formToJson(e.target.elements);return request("POST","/mail",s).then(function(e){renderMessage(t,n,i="true"==e?"Your message was successfully sent.  ":"Sorry, we couldn't send your message.  Try again later.  ")}).catch(function(e){renderMessage(t,n,i="Sorry, we couldn't send your message.  Try again later.  ")})},renderMessage=function(e,t,n){t.innerHTML=n,"Your message was successfully sent.  "==n?e.style.display="none":t.style.color="#C70039",resetJump(),window.location.hash="#mail"},resetJump=function(){history.pushState("",document.title,window.location.pathname+window.location.search)};